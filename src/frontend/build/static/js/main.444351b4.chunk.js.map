{"version":3,"sources":["images/omini_logov2.png","auth/loginPage.tsx","dashboard/navbar.tsx","dashboard/index.tsx","auth/verifyCookie.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","__webpack_require__","p","logo","require","Login","userRef","useRef","errRef","_React$useState","React","useState","_React$useState2","Object","slicedToArray","user","setUser","_React$useState3","_React$useState4","pass","setPass","_React$useState5","_React$useState6","errMsg","setErr","_sendCreds","asyncToGenerator","_regeneratorRuntime","mark","_callee","username","password","wrap","_context","prev","next","fetch","method","headers","Content-Type","body","JSON","stringify","then","data","status","json","Error","window","location","href","catch","error","console","stop","apply","this","arguments","useEffect","current","focus","react_default","a","createElement","ref","className","xmlns","fill","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","src","alt","required","autoComplete","value","onChange","e","target","type","placeholder","onClick","_x","_x2","sendCreds","data-tip","Navbar","Dashboard","res","err","log","App","dist","react_router_dist","path","element","reportWebVitals","onPerfEntry","Function","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"gHAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,06MCExC,IAAMC,EAAOC,EAAQ,IAGN,SAASC,IACtB,IAAMC,EAAUC,mBACVC,EAASD,mBAF4BE,EAGnBC,IAAMC,SAAS,IAHIC,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GAGpCM,EAHoCH,EAAA,GAG9BI,EAH8BJ,EAAA,GAAAK,EAInBP,IAAMC,SAAS,IAJIO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAIpCE,EAJoCD,EAAA,GAI9BE,EAJ8BF,EAAA,GAAAG,EAKlBX,IAAMC,SAAS,IALGW,EAAAT,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAKpCE,EALoCD,EAAA,GAK5BE,EAL4BF,EAAA,YAAAG,IAAA,OAAAA,EAAAZ,OAAAa,EAAA,EAAAb,CAAAc,IAAAC,KAO3C,SAAAC,EAAyBC,EAAkBC,GAA3C,OAAAJ,IAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACQC,MAAM,mBAAoB,CAC9BC,OAAQ,OACRC,QAAS,CACPC,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBZ,SAAUA,EACVC,SAAUA,MAGXY,KAAK,SAACC,GACL,GAAoB,MAAhBA,EAAKC,OACP,OAAOD,EAAKE,OAGZ,MADAtB,EAAO,mCACD,IAAIuB,MAAM,qCAInBJ,KAAK,SAACC,GACe,YAAhBA,EAAKC,OACPG,OAAOC,SAASC,KAAO,YAEvB9B,EAAQ,IACRI,EAAO,yCAGV2B,MAAM,SAACC,GACNC,QAAQD,MAAM,SAAUA,KA7B9B,wBAAAnB,EAAAqB,SAAAzB,OAP2C0B,MAAAC,KAAAC,WA+C3C,OAPAC,oBAAU,WACRpD,EAAQqD,QAAQC,SACf,IACHF,oBAAU,WACRlC,EAAO,KACN,CAACT,EAAMI,IAGR0C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OACEC,IAAKxD,EACLyD,UAAW,sCAAwC1C,EAAS,UAAY,cAExEsC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,+BACbJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OACEG,MAAM,6BACND,UAAU,uCACVE,KAAK,OACLC,QAAQ,aAERP,EAAAC,EAAAC,cAAA,QACEM,cAAc,QACdC,eAAe,QACfC,YAAY,IACZC,EAAE,0EAINX,EAAAC,EAAAC,cAAA,YAAOxC,MAIbsC,EAAAC,EAAAC,cAAA,OACEE,UAAU,uDAGVJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,uCACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,wCACbJ,EAAAC,EAAAC,cAAA,OACEE,UAAU,wDAGVJ,EAAAC,EAAAC,cAAA,OAAKU,IAAKtE,EAAMuE,IAAI,aAAaT,UAAU,cAE3CJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,6CACbJ,EAAAC,EAAAC,cAAA,QAAME,UAAU,gDAAhB,SACAJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yCACbJ,EAAAC,EAAAC,cAAA,4BAINF,EAAAC,EAAAC,cAAA,SAAOE,UAAU,oCACfJ,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,SACEC,IAAK1D,EACLqE,UAAQ,EACRC,aAAa,MACbC,MAAO9D,EACP+D,SAAU,SAACC,GAAD,OAAO/D,EAAQ+D,EAAEC,OAAOH,QAClCI,KAAK,WACLC,YAAY,WACZjB,UAAU,iDAGdJ,EAAAC,EAAAC,cAAA,SAAOE,UAAU,oCACfJ,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,SACEY,UAAQ,EACRC,aAAa,MACbC,MAAO1D,EACP2D,SAAU,SAACC,GAAD,OAAO3D,EAAQ2D,EAAEC,OAAOH,QAClCI,KAAK,WACLC,YAAY,WACZjB,UAAU,iDAIdJ,EAAAC,EAAAC,cAAA,SACEkB,KAAK,SACLJ,MAAM,SACNM,QAAS,YAzHsB,SAAAC,EAAAC,GAAA5D,EAAA8B,MAAAC,KAAAC,WA0H7B6B,CAAUvE,EAAMI,IAElB8C,UAAU,0DAMhBJ,EAAAC,EAAAC,cAAA,OACEE,UAAU,eACVsB,WAAS,gEAGT1B,EAAAC,EAAAC,cAAA,OAAKE,UAAU,qBACbJ,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,QAAME,UAAU,QACdJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACEE,UAAU,2DAGVJ,EAAAC,EAAAC,cAAA,QAAME,UAAU,WAAhB,kBClJH,SAASuB,IACtB,OAAO3B,EAAAC,EAAAC,cAAA,qBCCM,SAAS0B,IAEtB,OCWArD,MAAM,qBAAsB,CAC1BC,OAAQ,SAEPM,KAAK,SAAC+C,GAAD,OAASA,EAAI5C,SAClBH,KAAK,SAACC,GACe,WAAhBA,EAAKC,SACPG,OAAOC,SAASC,KAAO,oBAG1BC,MAAM,SAACwC,GACNtC,QAAQuC,IAAID,GACZ3C,OAAOC,SAASC,KAAO,mBDrBzBW,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyB,EAAD,0BEiBSK,MAnBf,WACI,OACIhC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OACXJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,WACXJ,EAAAC,EAAAC,cAAC+B,EAAA,EAAD,KACIjC,EAAAC,EAAAC,cAACgC,EAAA,EAAD,KACIlC,EAAAC,EAAAC,cAACgC,EAAA,EAAD,CAAOC,KAAK,YAAYC,QAASpC,EAAAC,EAAAC,cAAC0B,EAAD,QAEjC5B,EAAAC,EAAAC,cAACgC,EAAA,EAAD,CACIC,KAAK,iBACLC,QAASpC,EAAAC,EAAAC,cAAC1D,EAAD,aCFtB6F,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxCnG,EAAA8E,EAAA,GAAApC,KAAA1C,EAAAoG,KAAA,UAAqB1D,KAAK,SAAA2D,GAAiD,IAA9CC,EAA8CD,EAA9CC,OAAQC,EAAsCF,EAAtCE,OAAQC,EAA8BH,EAA9BG,OAAQC,EAAsBJ,EAAtBI,OAAQC,EAAcL,EAAdK,QAC3DJ,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAOP,GACPQ,EAAQR,MCJDS,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACHnD,EAAAC,EAAAC,cAACF,EAAAC,EAAMmD,WAAP,KACEpD,EAAAC,EAAAC,cAACmD,EAAD,QAIJhB","file":"static/js/main.444351b4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/omini_logov2.e7fb195c.png\";","import React, { useEffect, useRef } from 'react';\n// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst logo = require('./../images/omini_logov2.png');\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport default function Login(): JSX.Element {\n  const userRef = useRef() as React.MutableRefObject<HTMLInputElement>;\n  const errRef = useRef() as React.MutableRefObject<HTMLInputElement>;\n  const [user, setUser] = React.useState('');\n  const [pass, setPass] = React.useState('');\n  const [errMsg, setErr] = React.useState('');\n\n  async function sendCreds(username: string, password: string) {\n    await fetch('/omapi/dsh/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    })\n      .then((data) => {\n        if (data.status === 200) {\n          return data.json();\n        } else {\n          setErr('Error communicating with server');\n          throw new Error('Error communicating with server');\n          // setPass('');\n        }\n      })\n      .then((data) => {\n        if (data.status === 'success') {\n          window.location.href = '/omidash';\n        } else {\n          setPass('');\n          setErr('Bad credentials. Please try again.');\n        }\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n      });\n  }\n\n  useEffect(() => {\n    userRef.current.focus();\n  }, []);\n  useEffect(() => {\n    setErr('');\n  }, [user, pass]);\n\n  return (\n    <div>\n      <div\n        ref={errRef}\n        className={'translate-x-1/2 w-1/2 top-8 fixed ' + (errMsg ? 'visible' : 'invisible')}\n      >\n        <div className=\"alert alert-error shadow-lg\">\n          <div>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"stroke-current flex-shrink-0 h-6 w-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9\n                9 0 11-18 0 9 9 0 0118 0z\"\n              />\n            </svg>\n            <span>{errMsg}</span>\n          </div>\n        </div>\n      </div>\n      <div\n        className=\"flex items-center justify-center \n        h-screen flex-col\"\n      >\n        <div className=\"border-gray-300 border-2 rounded-xl\">\n          <div className=\"form-control gap-8 m-10 align-center\">\n            <div\n              className=\"flex flex-row items-center \n            justify-center space-x-4\"\n            >\n              <img src={logo} alt=\"omini logo\" className=\"w-20 h-20\" />\n\n              <div className=\"flex flex-col items-center justify-center\">\n                <span className=\"text-2xl font-semibold black dark:text-white\">Omini</span>\n                <div className=\"text-gray-400 text-[11px] -mt-1 -mr-8\">\n                  <span>dashboard</span>\n                </div>\n              </div>\n            </div>\n            <label className=\"input-group input-group-vertical\">\n              <span>Username</span>\n              <input\n                ref={userRef}\n                required\n                autoComplete=\"off\"\n                value={user}\n                onChange={(e) => setUser(e.target.value)}\n                type=\"username\"\n                placeholder=\"Username\"\n                className=\"input input-bordered bg-white text-gray-600\"\n              />\n            </label>\n            <label className=\"input-group input-group-vertical\">\n              <span>Password</span>\n              <input\n                required\n                autoComplete=\"off\"\n                value={pass}\n                onChange={(e) => setPass(e.target.value)}\n                type=\"password\"\n                placeholder=\"********\"\n                className=\"input input-bordered bg-white text-gray-600\"\n              />\n            </label>\n\n            <input\n              type=\"submit\"\n              value=\"Submit\"\n              onClick={() => {\n                sendCreds(user, pass);\n              }}\n              className=\"\n            btn text-white bg-blue-500\n          hover:bg-blue-700 w-1/2\"\n            />\n          </div>\n        </div>\n        <div\n          className=\"tooltip mt-6\"\n          data-tip='Use the password \"Administrator\" \n      and your database password'\n        >\n          <div className=\"flex items-center\">\n            <span>First connection</span>\n            <span className=\"ml-2\">\n              <div>\n                <button\n                  className=\"rounded-full\n                border-[1px] text-blue-500 border-blue-500\"\n                >\n                  <span className=\"m-[8px]\">?</span>\n                </button>\n              </div>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function Navbar(): JSX.Element {\n  return <div>Navbar</div>;\n}\n","import React from 'react';\nimport Navbar from './navbar';\nimport { verifyCookie } from '../auth/verifyCookie';\n\nexport default function Dashboard(): JSX.Element {\n  verifyCookie();\n  return (\n    <div>\n      <Navbar />\n    </div>\n  );\n}\n","/**\n * File: verifyCookie.ts\n * Created Date: 24 Sep 2022\n * Author: realbacon\n * -----\n * Last Modified: 24/09/2022 04:06:17\n * Modified By: realbacon\n * -----\n * License  : MIT\n * -----\n * */\n\n/**\n * Verify is a cookie is present and valid\n * if not, redirect to login page\n */\nexport function verifyCookie() {\n  fetch('omiapi/auth/verify', {\n    method: 'POST'\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      if (data.status === 'failed') {\n        window.location.href = '/omidash/login';\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n      window.location.href = '/omidash/login';\n    });\n}\n","import React from 'react'\nimport Login from './auth/loginPage'\nimport './style/output.css'\nimport Dashboard from './dashboard/index'\nimport { BrowserRouter, Route, Routes } from 'react-router-dom'\n\nfunction App(): JSX.Element {\n    return (\n        <div className=\"App\">\n            <div className=\"wrapper\">\n                <BrowserRouter>\n                    <Routes>\n                        <Route path=\"/omidash/\" element={<Dashboard />}></Route>\n\n                        <Route\n                            path=\"/omidash/login\"\n                            element={<Login />}\n                        ></Route>\n                    </Routes>\n                </BrowserRouter>\n            </div>\n        </div>\n    )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nconst root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement)\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n)\n\nreportWebVitals()\n"],"sourceRoot":""}